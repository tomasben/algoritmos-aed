## 3.25
Una Fábrica que posee 4 plantas de producción en nuestro país y compra materia
prima a 3 proveedores distintos, desea realizar un control de los montos totales
correspondientes a compras realizadas en cada planta durante el último año,
discriminados por proveedor y por mes. Para ello dispone de un archivo con los
datos de las facturas correspondientes. (Aclaración: el archivo no está ordenado
por ningún criterio)

**COMPRAS**
| Nro_Factura | Proveedor (A, B, C) | Fecha dd/mm/aaaa | Nro_Planta 1..4 | Importe |
|-------------|---------------------|------------------|-----------------|---------|

```
ACCION ejercicio ES
  AMBIENTE
    Compra = REGISTRO
      nro_fac: N(15)
      provedor: ('A', 'B', 'C')
      fecha = REGISTRO
        dia: 1..31
        mes: 1..12
        año: N(4)
      FIN_REGISTRO
      nro_planta: 1..4
      importe: real
    FIN_REGISTRO

    i, j, z: entero
    // Matriz de [Proveedor, Mes, Planta]
    totales: arreglo [1..3, 1..12, 1..4] de real
    arch: archivo de Compra
  PROCESO
    ABRIR E/ (arch); LEER(arch, reg)

    PARA i := 1 HASTA 3 HACER
      PARA j := 1 HASTA 12 HACER
        PARA k := 1 HASTA 4 HACER
          totales[i, j, k] := 0
        FIN_PARA
      FIM_PARA
    FIN_PARA


    MIENTRAS NO FDA(arch) HACER
      j := reg.fecha.mes
      z := reg.nro_planta

      SEGUN proveedor HACER
        'A': i := 1
        'B': i := 2
        'C': i := 3
      FIN_SEGUN

      totales[i, j, z] := totales[i, j, z] + reg.importe

      LEER(arch, reg)
    FIN_MIENTRAS

    CERRAR(arch)
FIN_ACCION
```

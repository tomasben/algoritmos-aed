## 3.26
Se dispone de un archivo secuencial de facturas de una empresa de energía eléctrica,
correspondientes a un año, con el siguiente formato:

| Nro_Factura | Nro_Usuario | Zona | Fecha | Consumo |
|-------------|-------------|------|-------|---------|

Se desea obtener un cuadro estadístico que informe los consumos y los importes totales
facturados por mes discriminados por zona, con el siguiente formato:

|	               | Zona A | Zona B | Zona C | Zona D | Total por mes |
|----------------|--------|--------|--------|--------|---------------|
| Enero          |...     | ...    | ...    | ...    | 	...          |
| Febrero        |...     | ...    | ...    | ...    | 	...          |
| ...            |...     | ...    | ...    | ...    | 	...          |
| Diciembre      |...     | ...    | ...    | ...    | 	...          |
| Total por zona | ...    | ...    | ...    | ...    | Total General |

La ciudad está dividida en 4 Zonas (A,B,C,D), la tarifa por Kw. que cobra la empresa
en cada una de ellas es: Zona A: 0.05, ZonaB: 0.07, Zona C: 0.09, y ZonaD: 0.13.

```
ACCION ejercicio ES
  AMBIENTE
    Factura = REGISTRO
      nro_fac: N(15)
      nro_usu: N(5)
      zona: ('A', 'B', 'C', 'D')
      fecha = REGISTRO
        año: N(4)
        mes: 1..12
        dia: 1..31
      FIN_REGISTRO
      consumo: real
    FIN_REGISTRO

    i, j: entero
    fila, columna, total: real
    totales: arreglo [1..13, 1..5]
    arch: archivo de Factura
    reg: Factura
  PROCESO
    ABRIR E/ (arch); LEER(arch, reg)

    PARA i := 1 HASTA 12 HACER
      PARA j := 1 HASTA 4 HACER
        totales[i, j] := 0
      FIM_PARA
    FIN_PARA

    MIENTRAS NO FDA(arch) HACER
      i := reg.fecha.mes
      SEGUN reg.zona HACER
        'A': totales[i, 1] := totales[i, 1] + (reg.consumo * 0.05)
        'B': totales[i, 2] := totales[i, 2] + (reg.consumo * 0.07)
        'C': totales[i, 3] := totales[i, 3] + (reg.consumo * 0.09)
        'D': totales[i, 4] := totales[i, 4] + (reg.consumo * 0.13)
      FIN_SEGUN

      LEER(arch, reg)
    FIN_MIENTRAS

    PARA i := 1 HASTA 12 HACER
      fila := 0
      PARA j := 1 HASTA 4 HACER
        fila := fila + totales[i, j]
      FIN_PARA

      totales[i, 5] := fila
    FIN_PARA

    total := 0
    PARA j := 1 HASTA 4 HACER
      columna := 0
      PARA i := 1 HASTA 12 HACER
        columna := columna + totales[i, j]
      FIN_PARA

      total := total + columna
      totales[13, j] := columna
    FIN_PARA

    totales[13, 5] := total
    CERRAR(arch)
FIN_ACCION
```

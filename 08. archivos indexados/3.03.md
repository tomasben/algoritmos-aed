## 3.03
Los automovilistas pasan por el peaje del Puente Gral. Belgrano y deben pagar según
su categoría, pero además, si ya han pasado previamente dentro del día tienen pase
libre. Teniendo en cuenta el archivo siguiente, construya el algoritmo que realice
lo que corresponda: genere el comprobante, indicando el importe a pagar o emita un
mensaje indicando que ya pasó anteriormente. Además indique cuáles deberían ser los
datos de entrada.

**PEAJE** *indexado por patente, fecha*
| PATENTE | FECHA | CATEGORÍA | COSTO |
|---------|-------|-----------|-------|
| XXX-NNN | 8N    | N         | XXX,XX|

Tarifas vigentes por categoría:
| Categoría | 1    | 2    | 3    | 4    |
|-----------|------|------|------|------|
| Costo     | 1000 | 1900 | 2800 | 3700 |

```
ACCION ejercicio ES
  AMBIENTE
    Fecha = REGISTRO
      año: N(4)
      mes: 1..12
      dia: 1..31
    FIN_REGISTRO

    Pase = REGISTRO
      patente: AN(7)
      fecha = Fecha
      categ: N(1)
      costo: real
    FIN_REGISTRO

    peaje: archivo de Pase indexado por patente, fecha
    pase: Pase
    historial: archivo de Historial indexado por patente
    hist: Historial

    fecha_actual: Fecha
    deasea_seguir: caracter

    FUNCION obtener_tarifa(cat: N(1)): real ES
      SEGUN cat HACER
        1: obtener_tarifa := 1000
        2: obtener_tarifa := 1900
        3: obtener_tarifa := 2800
        4: obtener_tarifa := 3700
      FIN_SEGUN
    FIN_FUNCION
  PROCESO
    ABRIR E/S (peaje)

    ESCRIBIR("Ingrese la fecha actual, indicando año, mes y día a continuación: ")
    ESCRIBIR("Año: "); LEER(fecha_actual.año)
    ESCRIBIR("Mes: "); LEER(fecha_actual.mes)
    ESCRIBIR("Día: "); LEER(fecha_actual.dia)

    REPETIR
      ESCRIBIR("Ingese la patente del vehículo: [XXX-NNN]")
      LEER(pase.patente)
      LEER(peaje.patente)

      SI EXISTE ENTONCES
        SI pase.fecha = fecha_actual ENTONCES
          ESCRIBIR("El vehículo ya cruzo el puente durante el día")
          ESCRIBIR("No debe pagar")
        CONTRARIO
          pase.fecha := fecha_actual
          RE-ESCRIBIR(peaje, pase)
          ESCRIBIR("El monto a pagar es de: ", pase.costo)
        FIN_SI
      CONTRARIO
        pase.fecha := fecha_actual
        ESCRIBIR("El vehículo no se encunetra registrado")
        ESCRIBIR("Ingrese el número de categoria del veículo: ")
        LEER(pase.categ)
        pase.costo := obtener_tarifa(pase.categ)
        ESCRIBIR(peaje, pase)
      FIN_SI

      ESCRIBIR("Desea ingresar otro pase? [S/N]")
      LEER(usuario_entrada)
    HASTA QUE desea_seguir = 'N'

    CERRAR(peaje)
FIN_ACCION
```
